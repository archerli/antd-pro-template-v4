(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{G4y8:function(e,a,t){e.exports={card:"antd-pro-pages-form-advanced-form-style-card",errorIcon:"antd-pro-pages-form-advanced-form-style-errorIcon",anticon:"antd-pro-pages-form-advanced-form-style-anticon",errorPopover:"antd-pro-pages-form-advanced-form-style-errorPopover",errorListItem:"antd-pro-pages-form-advanced-form-style-errorListItem",errorField:"antd-pro-pages-form-advanced-form-style-errorField",editable:"antd-pro-pages-form-advanced-form-style-editable"}},LNof:function(e,a,t){e.exports={toolbar:"antd-pro-pages-form-advanced-form-components-footer-toolbar-index-toolbar",left:"antd-pro-pages-form-advanced-form-components-footer-toolbar-index-left",right:"antd-pro-pages-form-advanced-form-components-footer-toolbar-index-right"}},"Q++t":function(e,a,t){"use strict";t.r(a);t("+L6B");var n=t("2/Rp"),r=(t("Xi6J"),t("kl6h")),l=(t("IzEo"),t("bx4M")),o=(t("14J3"),t("BMrR")),c=(t("jCWc"),t("kPKH")),i=(t("5NDa"),t("5rEg")),m=(t("Q9mQ"),t("diRs")),s=(t("y8nQ"),t("Vl3Y")),u=t("tJVT"),d=(t("iQDF"),t("+eQT")),p=(t("OaEy"),t("2fM7")),f=t("2BaD"),v=t("q1tI"),b=t.n(v),E=t("Hx5s"),y=t("9kvl"),g=(t("g9YV"),t("wCAj")),h=(t("cIOH"),t("sKbD")),k=t.n(h),O=t("rOxa"),w=t("3S7+"),j=t("zvFY"),I=t("YMnH"),x=t("ZvpZ"),C=t("H84U"),N=t("bogI"),P=t("0n0R"),S=void 0;function F(){return F=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},F.apply(this,arguments)}function q(e,a){return V(e)||L(e,a)||T(e,a)||A()}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,a){if(e){if("string"===typeof e)return R(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,a):void 0}}function R(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function L(e,a){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)if(t.push(o.value),a&&t.length===a)break}catch(i){r=!0,l=i}finally{try{n||null==c["return"]||c["return"]()}finally{if(r)throw l}}return t}}function V(e){if(Array.isArray(e))return e}var B=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t},D=v["forwardRef"]((function(e,a){var t=v["useState"](e.visible),r=q(t,2),l=r[0],o=r[1];v["useEffect"]((function(){"visible"in e&&o(e.visible)}),[e.visible]),v["useEffect"]((function(){"defaultVisible"in e&&o(e.defaultVisible)}),[e.defaultVisible]);var c=function(a,t){"visible"in e||o(a),e.onVisibleChange&&e.onVisibleChange(a,t)},i=function(a){c(!1,a),e.onConfirm&&e.onConfirm.call(S,a)},m=function(a){c(!1,a),e.onCancel&&e.onCancel.call(S,a)},s=function(e){e.keyCode===O["a"].ESC&&l&&c(!1,e)},u=function(a){var t=e.disabled;t||c(a)},d=function(a,t){var r=e.okButtonProps,l=e.cancelButtonProps,o=e.title,c=e.cancelText,s=e.okText,u=e.okType,d=e.icon;return v["createElement"]("div",{className:"".concat(a,"-inner-content")},v["createElement"]("div",{className:"".concat(a,"-message")},d,v["createElement"]("div",{className:"".concat(a,"-message-title")},Object(N["a"])(o))),v["createElement"]("div",{className:"".concat(a,"-buttons")},v["createElement"](n["a"],F({onClick:m,size:"small"},l),c||t.cancelText),v["createElement"](n["a"],F({onClick:i},Object(j["a"])(u),{size:"small"},r),s||t.okText)))},p=v["useContext"](C["b"]),f=p.getPrefixCls,b=e.prefixCls,E=e.placement,y=e.children,g=B(e,["prefixCls","placement","children"]),h=f("popover",b),k=v["createElement"](I["a"],{componentName:"Popconfirm",defaultLocale:x["a"].Popconfirm},(function(e){return d(h,e)}));return v["createElement"](w["a"],F({},g,{prefixCls:h,placement:E,onVisibleChange:u,visible:l,overlay:k,ref:a}),Object(P["a"])(y,{onKeyDown:function(e){var a,t;null===(t=null===y||void 0===y?void 0:(a=y.props).onKeyDown)||void 0===t||t.call(a,e),s(e)}}))}));D.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:v["createElement"](k.a,null),disabled:!1};var K=D,M=(t("/zsF"),t("PArb")),J=(t("miYZ"),t("tsqr")),Q=t("oBTY"),Y=t("k1fw"),z=t("xvlK"),W=t("G4y8"),H=t.n(W),G=function(e){var a=e.value,t=e.onChange,r=Object(v["useState"])(!1),l=Object(u["a"])(r,2),o=l[0],c=l[1],m=Object(v["useState"])(!1),s=Object(u["a"])(m,2),d=s[0],p=s[1],f=Object(v["useState"])(0),E=Object(u["a"])(f,2),y=E[0],h=E[1],k=Object(v["useState"])({}),O=Object(u["a"])(k,2),w=O[0],j=O[1],I=Object(v["useState"])(a),x=Object(u["a"])(I,2),C=x[0],N=x[1],P=function(e,a){var t;return null===(t=a||C)||void 0===t?void 0:t.filter((function(a){return a.key===e}))[0]},S=function(e,a){e.preventDefault();var t=null===C||void 0===C?void 0:C.map((function(e){return Object(Y["a"])({},e)})),n=P(a,t);n&&(n.editable||(w[a]=Object(Y["a"])({},n),j(w)),n.editable=!n.editable,N(t))},F=function(){var e=(null===C||void 0===C?void 0:C.map((function(e){return Object(Y["a"])({},e)})))||[];null===e||void 0===e||e.push({key:"NEW_TEMP_ID_".concat(y),workId:"",name:"",department:"",editable:!0,isNew:!0}),h(y+1),N(e)},q=function(e){var a=null===C||void 0===C?void 0:C.filter((function(a){return a.key!==e}));N(a),t&&t(a)},A=function(e,a,t){var n=Object(Q["a"])(C),r=P(t,n);r&&(r[a]=e.target.value,N(n))},T=function(e,a){e.persist(),p(!0),setTimeout((function(){if(o)c(!1);else{var n=P(a)||{};if(!n.workId||!n.name||!n.department)return J["a"].error("\u8bf7\u586b\u5199\u5b8c\u6574\u6210\u5458\u4fe1\u606f\u3002"),e.target.focus(),void p(!1);delete n.isNew,S(e,a),t&&t(C),p(!1)}}),500)},R=function(e,a){"Enter"===e.key&&T(e,a)},L=function(e,a){c(!0),e.preventDefault();var t=Object(Q["a"])(C),n=[];n=t.map((function(e){if(e.key===a&&w[a]){var t=Object(Y["a"])(Object(Y["a"])(Object(Y["a"])({},e),w[a]),{},{editable:!1});return delete w[a],j(w),t}return e})),N(n),c(!1)},V=[{title:"\u6210\u5458\u59d3\u540d",dataIndex:"name",key:"name",width:"20%",render:function(e,a){return a.editable?b.a.createElement(i["a"],{value:e,autoFocus:!0,onChange:function(e){return A(e,"name",a.key)},onKeyPress:function(e){return R(e,a.key)},placeholder:"\u6210\u5458\u59d3\u540d"}):e}},{title:"\u5de5\u53f7",dataIndex:"workId",key:"workId",width:"20%",render:function(e,a){return a.editable?b.a.createElement(i["a"],{value:e,onChange:function(e){return A(e,"workId",a.key)},onKeyPress:function(e){return R(e,a.key)},placeholder:"\u5de5\u53f7"}):e}},{title:"\u6240\u5c5e\u90e8\u95e8",dataIndex:"department",key:"department",width:"40%",render:function(e,a){return a.editable?b.a.createElement(i["a"],{value:e,onChange:function(e){return A(e,"department",a.key)},onKeyPress:function(e){return R(e,a.key)},placeholder:"\u6240\u5c5e\u90e8\u95e8"}):e}},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return a.editable&&d?null:a.editable?a.isNew?b.a.createElement("span",null,b.a.createElement("a",{onClick:function(e){return T(e,a.key)}},"\u6dfb\u52a0"),b.a.createElement(M["a"],{type:"vertical"}),b.a.createElement(K,{title:"\u662f\u5426\u8981\u5220\u9664\u6b64\u884c\uff1f",onConfirm:function(){return q(a.key)}},b.a.createElement("a",null,"\u5220\u9664"))):b.a.createElement("span",null,b.a.createElement("a",{onClick:function(e){return T(e,a.key)}},"\u4fdd\u5b58"),b.a.createElement(M["a"],{type:"vertical"}),b.a.createElement("a",{onClick:function(e){return L(e,a.key)}},"\u53d6\u6d88")):b.a.createElement("span",null,b.a.createElement("a",{onClick:function(e){return S(e,a.key)}},"\u7f16\u8f91"),b.a.createElement(M["a"],{type:"vertical"}),b.a.createElement(K,{title:"\u662f\u5426\u8981\u5220\u9664\u6b64\u884c\uff1f",onConfirm:function(){return q(a.key)}},b.a.createElement("a",null,"\u5220\u9664")))}}];return b.a.createElement(b.a.Fragment,null,b.a.createElement(g["a"],{loading:d,columns:V,dataSource:C,pagination:!1,rowClassName:function(e){return e.editable?H.a.editable:""}}),b.a.createElement(n["a"],{style:{width:"100%",marginTop:16,marginBottom:8},type:"dashed",onClick:F},b.a.createElement(z["a"],null),"\u65b0\u589e\u6210\u5458"))},Z=G,_=t("0Owb"),U=t("PpiC"),X=t("fWQN"),$=t("mtLc"),ee=t("yKVA"),ae=t("879j"),te=t("TSYQ"),ne=t.n(te),re=t("LNof"),le=t.n(re),oe=function(e){Object(ee["a"])(t,e);var a=Object(ae["a"])(t);function t(){var e;Object(X["a"])(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=a.call.apply(a,[this].concat(r)),e.getWidth=function(e){var a=e.collapsed,t=e.isMobile,n=e.siderWidth,r=document.querySelector(".ant-layout-sider");if(r)return t?void 0:"calc(100% - ".concat(a?80:n||256,"px)")},e}return Object($["a"])(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.children,n=a.className,r=a.extra,l=Object(U["a"])(a,["children","className","extra"]);return b.a.createElement(E["e"].Consumer,null,(function(a){return b.a.createElement("div",Object(_["a"])({className:ne()(n,le.a.toolbar),style:{width:e.getWidth(a),transition:"0.3s all"}},l),b.a.createElement("div",{className:le.a.left},r),b.a.createElement("div",{className:le.a.right},t))}))}}]),t}(v["Component"]),ce=p["a"].Option,ie=d["a"].RangePicker,me={name:"\u4ed3\u5e93\u540d",url:"\u4ed3\u5e93\u57df\u540d",owner:"\u4ed3\u5e93\u7ba1\u7406\u5458",approver:"\u5ba1\u6279\u4eba",dateRange:"\u751f\u6548\u65e5\u671f",type:"\u4ed3\u5e93\u7c7b\u578b",name2:"\u4efb\u52a1\u540d",url2:"\u4efb\u52a1\u63cf\u8ff0",owner2:"\u6267\u884c\u4eba",approver2:"\u8d23\u4efb\u4eba",dateRange2:"\u751f\u6548\u65e5\u671f",type2:"\u4efb\u52a1\u7c7b\u578b"},se=[{key:"1",workId:"00001",name:"John Brown",department:"New York No. 1 Lake Park"},{key:"2",workId:"00002",name:"Jim Green",department:"London No. 1 Lake Park"},{key:"3",workId:"00003",name:"Joe Black",department:"Sidney No. 1 Lake Park"}],ue=function(e){var a=e.submitting,t=e.dispatch,d=s["a"].useForm(),y=Object(u["a"])(d,1),g=y[0],h=Object(v["useState"])([]),k=Object(u["a"])(h,2),O=k[0],w=k[1],j=function(e){var a=e.filter((function(e){return e.errors.length>0})).length;if(!e||0===a)return null;var t=function(e){var a=document.querySelector('label[for="'.concat(e,'"]'));a&&a.scrollIntoView(!0)},n=e.map((function(e){if(!e||0===e.errors.length)return null;var a=e.name[0];return b.a.createElement("li",{key:a,className:H.a.errorListItem,onClick:function(){return t(a)}},b.a.createElement(f["a"],{className:H.a.errorIcon}),b.a.createElement("div",{className:H.a.errorMessage},e.errors[0]),b.a.createElement("div",{className:H.a.errorField},me[a]))}));return b.a.createElement("span",{className:H.a.errorIcon},b.a.createElement(m["a"],{title:"\u8868\u5355\u6821\u9a8c\u4fe1\u606f",content:n,overlayClassName:H.a.errorPopover,trigger:"click",getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e}},b.a.createElement(f["a"],null)),a)},I=function(e){w([]),t({type:"formAndadvancedForm/submitAdvancedForm",payload:e})},x=function(e){console.log("Failed:",e),w(e.errorFields)};return b.a.createElement(s["a"],{form:g,layout:"vertical",hideRequiredMark:!0,initialValues:{members:se},onFinish:I,onFinishFailed:x},b.a.createElement(E["c"],{content:"\u9ad8\u7ea7\u8868\u5355\u5e38\u89c1\u4e8e\u4e00\u6b21\u6027\u8f93\u5165\u548c\u63d0\u4ea4\u5927\u6279\u91cf\u6570\u636e\u7684\u573a\u666f\u3002"},b.a.createElement(l["a"],{title:"\u4ed3\u5e93\u7ba1\u7406",className:H.a.card,bordered:!1},b.a.createElement(o["a"],{gutter:16},b.a.createElement(c["a"],{lg:6,md:12,sm:24},b.a.createElement(s["a"].Item,{label:me.name,name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ed3\u5e93\u540d\u79f0"}]},b.a.createElement(i["a"],{placeholder:"\u8bf7\u8f93\u5165\u4ed3\u5e93\u540d\u79f0"}))),b.a.createElement(c["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},b.a.createElement(s["a"].Item,{label:me.url,name:"url",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},b.a.createElement(i["a"],{style:{width:"100%"},addonBefore:"http://",addonAfter:".com",placeholder:"\u8bf7\u8f93\u5165"}))),b.a.createElement(c["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},b.a.createElement(s["a"].Item,{label:me.owner,name:"owner",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"}]},b.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"},b.a.createElement(ce,{value:"xiao"},"\u4ed8\u6653\u6653"),b.a.createElement(ce,{value:"mao"},"\u5468\u6bdb\u6bdb"))))),b.a.createElement(o["a"],{gutter:16},b.a.createElement(c["a"],{lg:6,md:12,sm:24},b.a.createElement(s["a"].Item,{label:me.approver,name:"approver",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"}]},b.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"},b.a.createElement(ce,{value:"xiao"},"\u4ed8\u6653\u6653"),b.a.createElement(ce,{value:"mao"},"\u5468\u6bdb\u6bdb")))),b.a.createElement(c["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},b.a.createElement(s["a"].Item,{label:me.dateRange,name:"dateRange",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u751f\u6548\u65e5\u671f"}]},b.a.createElement(ie,{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],style:{width:"100%"}}))),b.a.createElement(c["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},b.a.createElement(s["a"].Item,{label:me.type,name:"type",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"}]},b.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"},b.a.createElement(ce,{value:"private"},"\u79c1\u5bc6"),b.a.createElement(ce,{value:"public"},"\u516c\u5f00")))))),b.a.createElement(l["a"],{title:"\u4efb\u52a1\u7ba1\u7406",className:H.a.card,bordered:!1},b.a.createElement(o["a"],{gutter:16},b.a.createElement(c["a"],{lg:6,md:12,sm:24},b.a.createElement(s["a"].Item,{label:me.name2,name:"name2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},b.a.createElement(i["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),b.a.createElement(c["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},b.a.createElement(s["a"].Item,{label:me.url2,name:"url2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},b.a.createElement(i["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),b.a.createElement(c["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},b.a.createElement(s["a"].Item,{label:me.owner2,name:"owner2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"}]},b.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"},b.a.createElement(ce,{value:"xiao"},"\u4ed8\u6653\u6653"),b.a.createElement(ce,{value:"mao"},"\u5468\u6bdb\u6bdb"))))),b.a.createElement(o["a"],{gutter:16},b.a.createElement(c["a"],{lg:6,md:12,sm:24},b.a.createElement(s["a"].Item,{label:me.approver2,name:"approver2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"}]},b.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"},b.a.createElement(ce,{value:"xiao"},"\u4ed8\u6653\u6653"),b.a.createElement(ce,{value:"mao"},"\u5468\u6bdb\u6bdb")))),b.a.createElement(c["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},b.a.createElement(s["a"].Item,{label:me.dateRange2,name:"dateRange2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},b.a.createElement(r["a"],{placeholder:"\u63d0\u9192\u65f6\u95f4",style:{width:"100%"},getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e}}))),b.a.createElement(c["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},b.a.createElement(s["a"].Item,{label:me.type2,name:"type2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"}]},b.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"},b.a.createElement(ce,{value:"private"},"\u79c1\u5bc6"),b.a.createElement(ce,{value:"public"},"\u516c\u5f00")))))),b.a.createElement(l["a"],{title:"\u6210\u5458\u7ba1\u7406",bordered:!1},b.a.createElement(s["a"].Item,{name:"members"},b.a.createElement(Z,null)))),b.a.createElement(oe,null,j(O),b.a.createElement(n["a"],{type:"primary",onClick:function(){return null===g||void 0===g?void 0:g.submit()},loading:a},"\u63d0\u4ea4")))};a["default"]=Object(y["b"])((function(e){var a=e.loading;return{submitting:a.effects["formAndadvancedForm/submitAdvancedForm"]}}))(ue)}}]);