(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{UXoT:function(a,e,t){a.exports={iconGroup:"antd-pro-pages-dashboard-analysis-style-iconGroup",anticon:"antd-pro-pages-dashboard-analysis-style-anticon",rankingList:"antd-pro-pages-dashboard-analysis-style-rankingList",rankingItemNumber:"antd-pro-pages-dashboard-analysis-style-rankingItemNumber",active:"antd-pro-pages-dashboard-analysis-style-active",rankingItemTitle:"antd-pro-pages-dashboard-analysis-style-rankingItemTitle",salesExtra:"antd-pro-pages-dashboard-analysis-style-salesExtra",currentDate:"antd-pro-pages-dashboard-analysis-style-currentDate",salesCard:"antd-pro-pages-dashboard-analysis-style-salesCard",salesBar:"antd-pro-pages-dashboard-analysis-style-salesBar",salesRank:"antd-pro-pages-dashboard-analysis-style-salesRank",salesCardExtra:"antd-pro-pages-dashboard-analysis-style-salesCardExtra",salesTypeRadio:"antd-pro-pages-dashboard-analysis-style-salesTypeRadio",offlineCard:"antd-pro-pages-dashboard-analysis-style-offlineCard",trendText:"antd-pro-pages-dashboard-analysis-style-trendText",rankingTitle:"antd-pro-pages-dashboard-analysis-style-rankingTitle",salesExtraWrap:"antd-pro-pages-dashboard-analysis-style-salesExtraWrap"}},jXcd:function(a,e,t){"use strict";t.r(e);t("14J3");var n=t("BMrR"),s=(t("jCWc"),t("kPKH")),l=(t("qVdP"),t("jsC+")),r=(t("lUTK"),t("BvKs")),i=t("fWQN"),o=t("mtLc"),d=t("yKVA"),c=t("879j"),u=t("GZ0F"),p=t("q1tI"),y=t.n(p),h=t("Hx5s"),g=t("9kvl"),m=(t("T2oS"),t("W9HT")),f=function(){return y.a.createElement("div",{style:{paddingTop:100,textAlign:"center"}},y.a.createElement(m["a"],{size:"large"}))},b=t("wd/R"),v=t.n(b);function T(a){return 1*a<10?"0".concat(a):a}function k(a){var e=new Date,t=864e5;if("today"===a)return e.setHours(0),e.setMinutes(0),e.setSeconds(0),[v()(e),v()(e.getTime()+(t-1e3))];if("week"===a){var n=e.getDay();e.setHours(0),e.setMinutes(0),e.setSeconds(0),0===n?n=6:n-=1;var s=e.getTime()-n*t;return[v()(s),v()(s+(7*t-1e3))]}var l=e.getFullYear();if("month"===a){var r=e.getMonth(),i=v()(e).add(1,"months"),o=i.year(),d=i.month();return[v()("".concat(l,"-").concat(T(r+1),"-01 00:00:00")),v()(v()("".concat(o,"-").concat(T(d+1),"-01 00:00:00")).valueOf()-1e3)]}return[v()("".concat(l,"-01-01 00:00:00")),v()("".concat(l,"-12-31 23:59:59"))]}var E=t("UXoT"),D=t.n(E),C=y.a.lazy((function(){return Promise.all([t.e(1),t.e(2),t.e(0),t.e(36)]).then(t.bind(null,"CqmX"))})),S=y.a.lazy((function(){return Promise.all([t.e(1),t.e(2),t.e(0),t.e(39)]).then(t.bind(null,"qpEo"))})),P=y.a.lazy((function(){return Promise.all([t.e(1),t.e(2),t.e(0),t.e(40)]).then(t.bind(null,"ceP7"))})),A=y.a.lazy((function(){return Promise.all([t.e(1),t.e(2),t.e(0),t.e(38)]).then(t.bind(null,"8gNO"))})),x=y.a.lazy((function(){return Promise.all([t.e(1),t.e(2),t.e(0),t.e(37)]).then(t.bind(null,"vvVX"))})),R=function(a){Object(d["a"])(t,a);var e=Object(c["a"])(t);function t(){var a;Object(i["a"])(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return a=e.call.apply(e,[this].concat(s)),a.state={salesType:"all",currentTabKey:"",rangePickerValue:k("year")},a.reqRef=0,a.timeoutId=0,a.handleChangeSalesType=function(e){a.setState({salesType:e.target.value})},a.handleTabChange=function(e){a.setState({currentTabKey:e})},a.handleRangePickerChange=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:e}),t({type:"dashboardAndanalysis/fetchSalesData"})},a.selectDate=function(e){var t=a.props.dispatch;a.setState({rangePickerValue:k(e)}),t({type:"dashboardAndanalysis/fetchSalesData"})},a.isActive=function(e){var t=a.state.rangePickerValue;if(!t)return"";var n=k(e);return n&&t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?D.a.currentDate:""},a}return Object(o["a"])(t,[{key:"componentDidMount",value:function(){var a=this.props.dispatch;this.reqRef=requestAnimationFrame((function(){a({type:"dashboardAndanalysis/fetch"})}))}},{key:"componentWillUnmount",value:function(){var a=this.props.dispatch;a({type:"dashboardAndanalysis/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var a,e=this.state,t=e.rangePickerValue,i=e.salesType,o=e.currentTabKey,d=this.props,c=d.dashboardAndanalysis,g=d.loading,m=c.visitData,b=c.visitData2,v=c.salesData,T=c.searchData,k=c.offlineData,E=c.offlineChartData,R=c.salesTypeData,w=c.salesTypeDataOnline,j=c.salesTypeDataOffline;a="all"===i?R:"online"===i?w:j;var I=y.a.createElement(r["a"],null,y.a.createElement(r["a"].Item,null,"\u64cd\u4f5c\u4e00"),y.a.createElement(r["a"].Item,null,"\u64cd\u4f5c\u4e8c")),O=y.a.createElement("span",{className:D.a.iconGroup},y.a.createElement(l["a"],{overlay:I,placement:"bottomRight"},y.a.createElement(u["a"],null))),V=o||k[0]&&k[0].name;return y.a.createElement(h["b"],null,y.a.createElement(y.a.Fragment,null,y.a.createElement(p["Suspense"],{fallback:y.a.createElement(f,null)},y.a.createElement(C,{loading:g,visitData:m})),y.a.createElement(p["Suspense"],{fallback:null},y.a.createElement(S,{rangePickerValue:t,salesData:v,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:g,selectDate:this.selectDate})),y.a.createElement(n["a"],{gutter:24,style:{marginTop:24}},y.a.createElement(s["a"],{xl:12,lg:24,md:24,sm:24,xs:24},y.a.createElement(p["Suspense"],{fallback:null},y.a.createElement(P,{loading:g,visitData2:b,searchData:T,dropdownGroup:O}))),y.a.createElement(s["a"],{xl:12,lg:24,md:24,sm:24,xs:24},y.a.createElement(p["Suspense"],{fallback:null},y.a.createElement(A,{dropdownGroup:O,salesType:i,loading:g,salesPieData:a,handleChangeSalesType:this.handleChangeSalesType})))),y.a.createElement(p["Suspense"],{fallback:null},y.a.createElement(x,{activeKey:V,loading:g,offlineData:k,offlineChartData:E,handleTabChange:this.handleTabChange}))))}}]),t}(p["Component"]);e["default"]=Object(g["b"])((function(a){var e=a.dashboardAndanalysis,t=a.loading;return{dashboardAndanalysis:e,loading:t.effects["dashboardAndanalysis/fetch"]}}))(R)}}]);